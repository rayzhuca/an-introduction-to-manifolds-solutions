\section{Euclidean Spaces}

\begin{problem}{1.2. A $C^\infty$ function very flat at $0$}

Let $f(x)$ be the function on R defined in Example 1.3.
\begin{enumerate}[label=(\alph*)]
    \item Show by induction that for $x > 0$ and $k \geq 0$, the $k$th derivative $f^{(k)}(x)$ is of the form
    $p_{2k}(1/x)e^{-1/x}$ for some polynomial $p_{2k}(y)$ of degree $2k$ in $y$.
    \item Prove that $f$ is $C^\infty$ on $\R$ and that $f^{(k)}(0)=0$ for all $k \geq 0$.
\end{enumerate}
\end{problem}

\begin{enumerate}[label=(\alph*)]

    \item Suppose $x > 0$. We induct on $k \geq 0$. For the base case $k = 0$, $f^{(0)}(x) = e^{-1/x} = p_{0}(1/x) e^{-1/x}$ where 
    $p_0 (1/x) = 1$. Now assume the inductive hypothesis for $k$. Notice that 
    \begin{align}
        f^{(k+1)}(x) &= \dv{x}( p_{2k}\left(\frac{1}{x}\right) e^{-1/x} ) \\ 
        &=  p_{2k}\left( \frac{1}{x} \right) \cdot e^{-1/x} \frac{1}{x^2} - p_{2k}'\left(\frac{1}{x}\right) \frac{1}{x^2} \cdot e^{-1/x} \\
        &= \left( p_{2k}(1/x) \frac{1}{x^2} - p_{2k}'\left(1/x\right) \frac{1}{x^2} \right) e^{-1/x} .
    \end{align}

    Let $p_{2(k+1)} = p_{2k} (x) x^2 - p_{2k}'(x) x^2$ so that $f^{(k+1)}(x) = p_{2(k+1)}(1/x) e^{-1/x}$. 
    Clearly, $p_{2(k+1)}$ is of degree $2(k+1)$ since $p_{2k}$ is of 
    degree $2k$ and $p_{2k}'$ is at most of degree $2k - 1$.
    Therefore, the claim is true for $k \geq 0$.

    \item We first establish that $f^{(k)}(0) = 0$ via induction.
    
    The base case $k=0$ is trivial. Assume our desired result is true for $k$ now.
    To prove $f^{(k+1)}(0) = 0$, we first show $\lim_{x \to 0^+} f^{(k)}(x) / x = 0$. But 
    $\lim_{x \to 0^+} f^{(k)} (x) = \lim_{x \to \infty} f^{(k)} (1/x)$. Combined with part (a), 
    \begin{equation} \label{eq:1-2-a}
        \lim_{x \to 0^+} f^{(k)} (x) / x = \lim_{x \to \infty} x f^{(k)} (1/x) = \lim_{x \to \infty} xp_{2k}(x) e^{-x} = \lim_{x \to \infty} \frac{xp_{2k}(x)}{e^x}.
    \end{equation}
    The last expression in Equation~\ref{eq:1-2-a} is $0$ because exponentials grow faster than any polynomial. (You can show 
    this by repeatedly applying L'Hospital's Rule.) 

    Obviously, $\lim_{x \to 0^-} f^{(k)}(x) / x = 0 / x = 0$. Since the left and right derivative agrees and $f^{(k)}$ 
    is continuous at $0$ because it is differentiable at $0$, $f^{(k+1)} = 0$.

    Now we have shown $f^{(k)}(0) = 0$ for all $k \geq 0$, we can conclude that $f \in C^\infty(\R)$ 
    because $f$ is clearly $C^\infty$ on $(-\infty, 0)$, on $0$ by our previous result, and on $(0, \infty)$ by part (a).

\end{enumerate}

\begin{problem}{1.6. Taylor's theorem with remainder to order 2}

Prove that if \( f : \mathbb{R}^2 \to \mathbb{R} \) is \( C^\infty \), then there exist \( C^\infty \) functions \( g_{11}, g_{12}, g_{22} \) on \( \mathbb{R}^2 \) such that
\[
    f(x, y) = f(0,0) + \frac{\partial f}{\partial x}(0,0) x + \frac{\partial f}{\partial y}(0,0) y + x^2 g_{11}(x, y) + xy\, g_{12}\/(x, y) + y^2 g_{22}\/(x, y).
\]
\end{problem}

Taylor's theorem with remainder states that there exists $g_1, g_2 \in C^{\infty} (U)$ such that 
\begin{equation} \label{eq:1-6-a}
    f(x, y) = f(0, 0) + xg_1(x, y) + yg_1(x, y), \quad g_1(0, 0) = \pdv{f}{x}\/(0, 0), \quad g_2\/(0, 0) = \pdv{f}{y}\/(0, 0) .
\end{equation}

Applying the same theorem on $g_1$ and $g_2$, we get some $g_{11}, h_{12}, h_{21}, g_{22} \in C^{\infty}$ such that
\begin{equation} \label{eq:1-6-b}
    g_1(x, y) = \pdv{f}{x}\/(0, 0) + xg_{11}(x,y) + yh_{12}(x, y), \quad g_{11} = \pdv{g}{x} \/(0, 0), \quad h_{12} = \pdv{g}{y} \/(0, 0)
\end{equation}
and
\begin{equation} \label{eq:1-6-c}
    g_2(x, y) = \pdv{f}{y}\/(0, 0) + xh_{21}(x,y) + yg_{22}(x, y), \quad h_{21} = \pdv{g}{x} \/(0, 0), \quad g_{22} = \pdv{g}{y} \/(0, 0) .
\end{equation}

Let $g_{12} = h_{12} + h_{21}$.
Substituting Equation~\ref{eq:1-6-b} and Equation~\ref{eq:1-6-c} into Equation~\ref{eq:1-6-a}, 
\begin{equation}
    f(x, y) = f(0, 0) + \pdv{f}{x}\/(0, 0)x + \pdv{f}{y}\/(0, 0)y + x^2g_{11}(x,y) + xyg_{12}(x, y) + y^2g_{22}(x, y) .
\end{equation}